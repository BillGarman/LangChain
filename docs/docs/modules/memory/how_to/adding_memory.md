# How to add Memory to an LLMChain

This notebook goes over how to use the Memory class with an LLMChain. For the purposes of this walkthrough, we will add  the `ConversationBufferMemory` class, although this can be any memory class.

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! Instead, edit the notebook w/the location & name as this file. -->


```python
from langchain.memory import ConversationBufferMemory
from langchain import OpenAI, LLMChain, PromptTemplate
```

The most important step is setting up the prompt correctly. In the below prompt, we have two input keys: one for the actual input, another for the input from the Memory class. Importantly, we make sure the keys in the PromptTemplate and the ConversationBufferMemory match up (`chat_history`).


```python
template = """You are a chatbot having a conversation with a human.

{chat_history}
Human: {human_input}
Chatbot:"""

prompt = PromptTemplate(
    input_variables=["chat_history", "human_input"], 
    template=template
)
memory = ConversationBufferMemory(memory_key="chat_history")
```


```python
llm_chain = LLMChain(
    llm=OpenAI(), 
    prompt=prompt, 
    verbose=True, 
    memory=memory,
)
```


```python
llm_chain.predict(human_input="Hi there my friend")
```

<CodeOutputBlock lang="python">

```
    
    
    > Entering new LLMChain chain...
    Prompt after formatting:
    You are a chatbot having a conversation with a human.
    
    
    Human: Hi there my friend
    Chatbot:
    
    > Finished LLMChain chain.





    ' Hi there, how are you doing today?'
```

</CodeOutputBlock>


```python
llm_chain.predict(human_input="Not too bad - how are you?")
```

<CodeOutputBlock lang="python">

```
    
    
    > Entering new LLMChain chain...
    Prompt after formatting:
    You are a chatbot having a conversation with a human.
    
    
    Human: Hi there my friend
    AI:  Hi there, how are you doing today?
    Human: Not to bad - how are you?
    Chatbot:
    
    > Finished LLMChain chain.





    " I'm doing great, thank you for asking!"
```

</CodeOutputBlock>
